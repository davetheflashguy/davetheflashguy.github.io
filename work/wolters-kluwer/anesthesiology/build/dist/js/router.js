define(["jquery","jqueryui","underscore","backbone","views/global/header/main","views/global/menu/main"],function(e,t,n,r,i,s){var o=r.Router.extend({routes:{"":"defaultAction",table_of_contents:"tocAction","article_abstract/?:params":"articleDetailsAction","full_article/?:params":"fullArticleAction",featured:"featuredAction",oa:"oaAction","full_text_image/?:params":"fullTextImageAction"}}),u=new o,a=$("#container"),f="<div id='view_container' class='view_current_issue'>";f+="<div id='header_container'>",f+="</div>",f+="<div id='menu_container'>",f+="</div>",f+="<div id='page_container'>",f+="</div>",f+="</div>",a.html(f);var l=new i;l.setElement("#header_container").render();var c=new s;c.setElement("#menu_container").render();var h=null;u.on("route:defaultAction",function(e){$("#view_container").attr("class","view_current_issue"),l.hideBackButton(),require(["views/home/main"],function(e){var t=new e})}),u.on("route:tocAction",function(e){$("#page_container").html(""),$("#view_container").attr("class","view_toc"),l.showBackButton(),require(["views/toc/main"],function(e){var t=new e;h!==null&&(h.removeInstance(),h=null)})}),u.on("route:articleDetailsAction",function(e){$("#page_container").html(""),$("#view_container").attr("class","view_article_abstract"),l.showBackButton(),require(["views/article_abstract/main"],function(e){var t=new e;t.render(),h=t})}),u.on("route:fullArticleAction",function(e){$("#page_container").html(""),$("#view_container").attr("class","view_full_text"),l.showBackButton(),require(["views/full_article/main"],function(e){var t=new e;t.render()})}),u.on("route:featuredAction",function(e){$("#page_container").html(""),$("#view_container").attr("class","view_featured"),l.hideBackButton(),require(["views/featured/main"],function(e){var t=new e})}),u.on("route:oaAction",function(e){$("#page_container").html(""),$("#view_container").attr("class","view_oa"),l.hideBackButton(),require(["views/oa/main"],function(e){var t=new e})}),u.on("route:fullTextImageAction",function(e){$("#page_container").html(""),$("#view_container").attr("class","view_full_image"),l.showBackButton(),require(["views/full_text_image/main"],function(e){var t=new e})}),r.history.start()});