define(["jquery","underscore","backbone","models/global","views/network_connection/main","storeAPI"],function(e,t,n,r,i){var s=n.View.extend({globalModel:new r,eventAggregator:t.extend({},n.Events),loadCSS:function(e){var t=[];for(var n=0;n<e.length;n++){var r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.href=this.globalModel.getEnvironment()+"css/"+e[n]+".css",t.push(r.href),document.getElementsByTagName("head")[0].appendChild(r)}},cleanDATA:function(e){var t=e.replace("<![CDATA[","");return t=t.replace("]]>",""),t}},getEventAggregatorReference=function(){var e=t.extend({},n.Events);return e},makeSmartButton=function(e,t,n,r){var i=e,s=t,o=n,u=r;switch(i){case 0:s.css("background-color","#666666"),o.html("Unavailable");break;case 50:s.css("background-color","#666666"),o.html("Unavailable");break;case 100:s.click(function(){adobe.dps.store.buyFolio(u)}),o.html("Buy");break;case 101:s.css("background-color","#666666"),o.html("Unavailable");break;case 200:s.click(function(){adobe.dps.store.viewFolio(u)}),o.html("Download");break;case 201:s.css("background-color","#666666"),o.html("Downloading");break;case 400:s.click(function(){adobe.dps.store.viewFolio(u)}),o.html("View");break;case 401:s.click(function(){adobe.dps.store.viewFolio(u)}),o.html("View");break;case 1e3:s.click(function(){adobe.dps.store.viewFolio(u)}),o.text("View");break;case 1500:s.click(function(){adobe.dps.store.viewFolio(u)}),o.text("Update")}},promptNetworkChange=function(t){t==0?(e("#container").append("<div id='network_dialog_container'></div>"),this.networkConnectionView=new i,this.networkConnectionView.setElement("#network_dialog_container").render()):(e("#dialog").dialog("close"),location.reload())},String.prototype.truncate=function(){var e=this.match(/^.{0,125}[\S]*/),t=e[0].length,e=e[0].replace(/\s$/,"");return t<this.length&&(e+="&hellip;"),e});return s});